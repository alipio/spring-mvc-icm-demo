<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="../../../resources/css/bootstrap.min.css" rel="stylesheet" media="screen" th:href="@{/resources/css/bootstrap.min.css}"/>
    <link href="../../../resources/css/core.css" rel="stylesheet" media="screen" th:href="@{/resources/css/core.css}" />
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="../../../resources/js/bootstrap.min.js" th:src="@{/resources/js/bootstrap.min.js}"></script>
</head>
<body>

<div class="container" th:fragment="content">
    <h2 th:text="#{dashboard}">Dashboard</h2>
    <div class="row">
        <div class="col-lg-6">

            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title" th:text="#{dashboard.incidents}">Incidents</h3>
                </div>
                <ul class="list-group">
                    <li class="list-group-item"><span th:text="#{dashboard.incidents.countAll}">Incident count</span>&nbsp;<span class="badge pull-right" th:text="${incidentCounts.all()}">42</span></li>
                    <li class="list-group-item"><span th:text="#{dashboard.incidents.countCreatedToday}">Incidents created today</span>&nbsp;<span class="badge pull-right" th:text="${incidentCounts.createdToday()}">42</span></li>
                    <th:block th:each="entry : ${incidentCounts.byStatus()}">
                        <li class="list-group-item"><span th:text="${#messages.msg('dashboard.incidents.byStatus', #messages.msg('incident.status.' + entry.getKey()))}">Incidents with status 'Closed'</span>&nbsp;<span class="badge pull-right" th:text="${entry.getValue()}">42</span></li>
                    </th:block>
                </ul>
            </div>

        </div>
        <div class="col-lg-6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title" th:text="#{dashboard.audits}">Audits</h3>
                </div>
                <ul class="list-group">
                    <li class="list-group-item"><span th:text="#{dashboard.audits.countAll}">Incident count</span>&nbsp;<span class="badge pull-right" th:text="${auditCounts.all()}">42</span></li>
                    <li class="list-group-item"><span th:text="#{dashboard.audits.countCreatedToday}">Incidents created today</span>&nbsp;<span class="badge pull-right" th:text="${auditCounts.createdToday()}">42</span></li>
                    <th:block th:each="entry : ${auditCounts.byStatus()}">
                        <li class="list-group-item"><span th:text="${#messages.msg('dashboard.audits.byStatus', #messages.msg('incident.status.' + entry.getKey()))}">Audits with status 'Closed'</span>&nbsp;<span class="badge pull-right" th:text="${entry.getValue()}">42</span></li>
                    </th:block>
                </ul>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title" th:text="#{dashboard.users}">Users</h3>
                </div>
                <ul class="list-group">
                    <li class="list-group-item"><span th:text="#{dashboard.users.countAll}">User count</span>&nbsp;<span class="badge pull-right" th:text="${userCounts.all()}">42</span></li>
                    <th:block th:each="entry : ${userCounts.byRole()}">
                        <li class="list-group-item"><span th:text="${#messages.msg('dashboard.users.byRole', entry.getKey())}">User in role ROLE_USER</span>&nbsp;<span class="badge pull-right" th:text="${entry.getValue()}">42</span></li>
                    </th:block>
                </ul>
            </div>

        </div>
        <div class="col-lg-6">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title" th:text="#{dashboard.exports}">Export</h3>
                </div>
                <ul class="list-group">
                    <li class="list-group-item">Export incidents <span class="pull-right"><a href="#" th:href="@{/export/incidents}">CSV</a>, <a href="#" th:href="@{/export/incidents?format=xml}">XML</a></span></li>
                    <li class="list-group-item">Export users <span class="pull-right"><a href="#" th:href="@{/export/accounts}">CSV</a>, <a href="#" th:href="@{/export/accounts?format=xml}">XML</a></span></li>
                </ul>

            </div>
        </div>
    </div>

</div>

</body>
</html>